# leaflet-challenge


I began Module 15 by selecting my GeoJSON dataset in which I chose to look at all earthquakes over the past 30 days. Following my professor's demonstration in office hours, I used a previous Leaflet example from class as the general skeleton/structure for my javascript file. I set my baseURL to the correct URL that correlated to my geoJSON dataset. From my basis code, I initially made minor adjustments, mostly just changing the code to make the correct API requests and make sure functions had updated and correct parameters such as updating the parameter for 'chooseColor' function to 'depth' so that my markers corelated to the depth of the earthquake but overall my base functions like 'createMap' stayed the same. This was not the final rendition of my code, more of a first step to ensure file paths were correct, API was connected correctly and that I could display a dashboard with a map and markers, which I could. 

At this point there were several things I needed to address: first, adjusting my markers to correlate in size with the magnitude of the earthquake they represented because at this point, they were all the same size, and second, I needed to fix my legend because it was not displaying. Although not necessary, I did change the colors to a scheme I found more enjoyable. 

To first address the marker size, I created a separate function 'styleInfo' that took 'feature' as a parameter. Within this function I did two major things. When defining the fillColor, I called my 'chooseColor' function which colors each marker based on the depth of the earthquake and called the 'coordinates' within that function so that there was a marker for every pair of coordinates within the dataset, and that the marker color correlated with the measured depth of the earthquake. The second thing I did was when defining the radius, I called my 'markerSize' function which returns the magnitude of the earthquake multiplied by 4 for easier visibility, inside that I called the 'magnitude'. Adding this function was not enough though, I still was not getting my markers to display as I needed them too so I revised my 'createMap' function and used the Leaftlet function 'L.geoJson' instead of the for-loop I had in my skeleton code. The 'pointToLayer' called the latitude and longitude data and returned each pair as a circular marker. I called my 'styleInfo' function when defining the style and added 'onEachFeature' to incorporate a popup element to my dashboard that allows the magnitude, depth, and location to be displayed for each marker/feature. After making this adjustment, my markers correctly displayed with their popup and their size correlated to the strength of the earthquake magnitude. 

At this point all that was left to do was fix my legend, I'll be completely honest I went through about 10 different iterations of my code and couldn't get it to work, I consulted both the Xpert and GPT with no avail, at this point I messaged my TA and moved on to other work. The next morning when I re-ran my original code, it magically displayed but was incredibly wonky. To fix this I simply adjusted my the width and height of the legend in my CSS file. 

HTML file is pretty self-explanatory, I added the correct plug-ins for leaflet and d3. I then linked my CSS and javascript file and ensured that the filepaths were correct. CSS file is also pretty self-explanatory, I set my map to fit the full user screen. The info element just sets parameters for the 'pop-up' element and legend element just sets the parameters for the legend. 
